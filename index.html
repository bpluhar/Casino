<!DOCTYPE html>
<html>
<head>
  <title>Real-Time Chat</title>
</head>
<body>
  <ul id="messages"></ul>
  <form id="form" action="">
    <input id="input" autocomplete="off" /><button id="submit">Send</button>
  </form>

  <script src="/socket.io/socket.io.js"></script>

  <script>

  const socket = io();

  const messageInput = document.getElementById("input");
  const submitButton = document.getElementById("submit");

  let typingTimer;

  const typingTimeout = 2500;

  messageInput.addEventListener('blur', () => {
    clearTimeout(typingTimer);
    typingTimer = setTimeout(() => {
      socket.emit('client_stopTyping');
    }, typingTimeout);
  });

  messageInput.addEventListener('keydown', () => {
    clearTimeout(typingTimer);
    socket.emit('client_startTyping');
  });

  </script>
</body>
</html>

